<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>คลังความรู้ — ตัวอย่างหน้าเว็บ</title>
  <style>
    :root{
      --bg:#f7f8fb; --card:#ffffff; --muted:#6b7280; --accent:#2563eb; --radius:12px;
      --glass: rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Arial; margin:0; background:var(--bg); color:#0f172a;}
    .container{max-width:1100px;margin:28px auto;padding:20px}

    header{display:flex;gap:16px;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:grid;place-items:center;color:white;font-weight:700}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .controls{display:flex;gap:12px;align-items:center}
    .search{display:flex;align-items:center;background:var(--card);padding:8px 12px;border-radius:10px;box-shadow:0 1px 2px rgba(10,10,10,0.04);width:420px}
    .search input{border:0;outline:none;font-size:14px;background:transparent;width:100%}
    .btn{background:var(--accent);color:white;padding:8px 12px;border-radius:10px;border:0;cursor:pointer}

    main{display:grid;grid-template-columns:1fr 290px;gap:20px;margin-top:18px}

    /* cards */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(12,16,30,0.06);display:flex;flex-direction:column;gap:10px}
    .card .meta{display:flex;gap:8px;align-items:center;font-size:12px;color:var(--muted)}
    .card h3{margin:0;font-size:16px}
    .card p{margin:0;color:var(--muted);font-size:13px}
    .tags{display:flex;gap:8px;flex-wrap:wrap}
    .tag{background:#eef2ff;padding:4px 8px;border-radius:999px;font-size:12px;color:#3730a3}
    .read{margin-top:auto;display:flex;justify-content:flex-end}

    /* sidebar */
    .sidebar{position:sticky;top:20px}
    .panel{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(12,16,30,0.04);margin-bottom:12px}
    .category{display:flex;flex-direction:column;gap:8px}
    .category button{border:1px solid #e6e9f2;background:transparent;padding:8px;border-radius:8px;cursor:pointer;font-size:13px}

    /* footer */
    footer{margin-top:20px;text-align:center;color:var(--muted);font-size:13px}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;padding:20px}
    .modal{width:100%;max-width:900px;background:var(--card);border-radius:12px;padding:18px;box-shadow:0 30px 60px rgba(2,6,23,0.4);max-height:90vh;overflow:auto}
    .modal h2{margin:0}
    .close{border:0;background:transparent;font-size:16px;cursor:pointer}

    /* responsive */
    @media (max-width:900px){
      main{grid-template-columns:1fr}
      .search{width:100%}
      .controls{flex-direction:column;align-items:stretch}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">ค</div>
        <div>
          <h1>คลังความรู้</h1>
          <p class="lead">รวบรวมบทความ สรุป และเทมเพลตใช้งานได้จริง</p>
        </div>
      </div>

      <div class="controls">
        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="#9CA3AF" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z" stroke="#9CA3AF" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="search" placeholder="ค้นหาบทความหรือแท็ก เช่น 'การตลาด', 'python'" />
        </div>
        <button class="btn" id="new-article">เพิ่มบทความ</button>
      </div>
    </header>

    <main>
      <section>
        <div class="panel" style="margin-bottom:12px;display:flex;align-items:center;gap:12px;justify-content:space-between">
          <div style="display:flex;gap:12px;align-items:center">
            <strong id="result-count">ทั้งหมด 6 รายการ</strong>
            <span style="color:var(--muted);font-size:13px">- กรองโดย: <span id="active-filter">ทั้งหมด</span></span>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <label style="font-size:13px;color:var(--muted)">เรียงตาม</label>
            <select id="sort">
              <option value="new">ใหม่สุด</option>
              <option value="old">เก่าสุด</option>
              <option value="alpha">ชื่อ (ก-ฮ)</option>
            </select>
          </div>
        </div>

        <div class="grid" id="articles">
          <!-- ตัวอย่างการ์ดบทความ -->
          <article class="card" data-title="สรุปการตลาดดิจิทัล 2025" data-category="การตลาด" data-tags="การตลาด,ดิจิทัล">
            <div class="meta">การตลาด • 12 มิ.ย. 2025</div>
            <h3>สรุปการตลาดดิจิทัล 2025</h3>
            <p>เทรนด์หลัก ช่องทางยอดนิยม และเคสศึกษาแบบย่อ — เหมาะสำหรับทีมการตลาด</p>
            <div class="tags"><span class="tag">การตลาด</span><span class="tag">ดิจิทัล</span></div>
            <div class="read"><button class="btn open">อ่าน</button></div>
          </article>

          <article class="card" data-title="การตั้งค่า Git & Workflow" data-category="ไอที" data-tags="git,workflow,devops">
            <div class="meta">ไอที • 20 ก.พ. 2025</div>
            <h3>การตั้งค่า Git & Workflow</h3>
            <p>คำแนะนำการตั้งค่า Git, branch strategy และ CI/CD เบื้องต้น</p>
            <div class="tags"><span class="tag">git</span><span class="tag">devops</span></div>
            <div class="read"><button class="btn open">อ่าน</button></div>
          </article>

          <article class="card" data-title="แผนการเรียนรู้ Python สำหรับผู้เริ่มต้น" data-category="ไอที" data-tags="python,การเรียนรู้">
            <div class="meta">ไอที • 3 มี.ค. 2025</div>
            <h3>แผนการเรียนรู้ Python สำหรับผู้เริ่มต้น</h3>
            <p>เริ่มจากพื้นฐานถึงโปรเจ็กต์จริง 8 สัปดาห์ พร้อมลิงก์เอกสารอ้างอิง</p>
            <div class="tags"><span class="tag">python</span><span class="tag">การเรียนรู้</span></div>
            <div class="read"><button class="btn open">อ่าน</button></div>
          </article>

          <article class="card" data-title="เทคนิคการสัมภาษณ์งาน" data-category="ทักษะชีวิต" data-tags="สัมภาษณ์,ทักษะ">
            <div class="meta">ทักษะชีวิต • 28 เม.ย. 2025</div>
            <h3>เทคนิคการสัมภาษณ์งาน</h3>
            <p>เตรียมคำตอบ แก้ไขจุดอ่อน และทำความประทับใจแรก</p>
            <div class="tags"><span class="tag">สัมภาษณ์</span><span class="tag">ทักษะ</span></div>
            <div class="read"><button class="btn open">อ่าน</button></div>
          </article>

          <article class="card" data-title="แนวทางเขียนรายงานวิจัยสั้น" data-category="การศึกษา" data-tags="รายงาน,วิจัย">
            <div class="meta">การศึกษา • 1 เม.ย. 2025</div>
            <h3>แนวทางเขียนรายงานวิจัยสั้น</h3>
            <p>โครงสร้าง ตัวอย่าง และคำแนะนำในการอ้างอิง</p>
            <div class="tags"><span class="tag">รายงาน</span><span class="tag">วิจัย</span></div>
            <div class="read"><button class="btn open">อ่าน</button></div>
          </article>

          <article class="card" data-title="ออกแบบ UX ให้กับหน้า Dashboard" data-category="ออกแบบ" data-tags="ux,design">
            <div class="meta">ออกแบบ • 8 ม.ค. 2025</div>
            <h3>ออกแบบ UX ให้กับหน้า Dashboard</h3>
            <p>แนวทางโครงสร้างข้อมูล การจัดลำดับ และตัวอย่าง component</p>
            <div class="tags"><span class="tag">ux</span><span class="tag">design</span></div>
            <div class="read"><button class="btn open">อ่าน</button></div>
          </article>

        </div>
      </section>

      <aside class="sidebar">
        <div class="panel">
          <h4>หมวดหมู่</h4>
          <div class="category" id="categories">
            <button data-cat="ทั้งหมด">ทั้งหมด</button>
            <button data-cat="การตลาด">การตลาด</button>
            <button data-cat="ไอที">ไอที</button>
            <button data-cat="ทักษะชีวิต">ทักษะชีวิต</button>
            <button data-cat="การศึกษา">การศึกษา</button>
            <button data-cat="ออกแบบ">ออกแบบ</button>
          </div>
        </div>

        <div class="panel">
          <h4>แท็กยอดนิยม</h4>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button class="tag-btn tag" data-tag="python">python</button>
            <button class="tag-btn tag" data-tag="การตลาด">การตลาด</button>
            <button class="tag-btn tag" data-tag="git">git</button>
            <button class="tag-btn tag" data-tag="ux">ux</button>
            <button class="tag-btn tag" data-tag="รายงาน">รายงาน</button>
          </div>
        </div>

        <div class="panel">
          <h4>เกี่ยวกับ</h4>
          <p style="margin:0;color:var(--muted);font-size:13px">คลังความรู้ตัวอย่าง — เก็บบทความสั้น ลิงก์ และเทมเพลต เพื่อให้ทีมใช้งานร่วมกันได้</p>
        </div>
      </aside>
    </main>

    <footer>
      เวอร์ชันตัวอย่าง — ปรับแต่งเพิ่มเติมได้ตามต้องการ
    </footer>
  </div>

  <!-- modal -->
  <div class="modal-backdrop" id="backdrop" role="dialog" aria-hidden="true">
    <div class="modal" role="document">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px">
        <h2 id="modal-title">หัวข้อบทความ</h2>
        <div><button class="close" id="close">ปิด ✕</button></div>
      </div>
      <div id="modal-body" style="color:var(--muted);line-height:1.7">
        เนื้อหาบทความทดลอง — สามารถวาง HTML ยาวๆ หรือ markdown ที่แปลงแล้วได้
      </div>
    </div>
  </div>

  <script>
    // helper: update count
    const articlesEl = document.getElementById('articles');
    const resultCount = document.getElementById('result-count');
    const activeFilter = document.getElementById('active-filter');
    const searchInput = document.getElementById('search');
    const sortSelect = document.getElementById('sort');

    function updateCount(){
      const total = articlesEl.querySelectorAll('article.card:visible').length || articlesEl.querySelectorAll('article.card').length;
      resultCount.textContent = `ทั้งหมด ${total} รายการ`;
    }

    // polyfill :visible pseudo (simple)
    (function(){
      const style = document.createElement('style');
      style.innerHTML = 'article.card{display:flex} article.card[hidden]{display:none}';
      document.head.appendChild(style);
    })();

    function filterArticles({q='',category='ทั้งหมด',tag=''}={}){
      const cards = Array.from(articlesEl.querySelectorAll('article.card'));
      const qLower = q.trim().toLowerCase();
      cards.forEach(card=>{
        const title = card.dataset.title.toLowerCase();
        const tags = (card.dataset.tags||'').toLowerCase();
        const cat = (card.dataset.category||'').toLowerCase();
        let visible = true;
        if(category && category!=='ทั้งหมด') visible = cat===category.toLowerCase();
        if(visible && tag) visible = tags.split(',').map(t=>t.trim()).includes(tag.toLowerCase());
        if(visible && qLower) visible = title.includes(qLower) || tags.includes(qLower);
        if(visible) card.removeAttribute('hidden'); else card.setAttribute('hidden','');
      });
      activeFilter.textContent = (category==='ทั้งหมด' && !tag)?'ทั้งหมด': (tag?`แท็ก: ${tag}`:`หมวด: ${category}`);
      updateCount();
    }

    // event: search
    searchInput.addEventListener('input', ()=>{
      filterArticles({q:searchInput.value, category:currentCategory, tag:currentTag});
    });

    // categories
    let currentCategory='ทั้งหมด', currentTag='';
    document.getElementById('categories').addEventListener('click', e=>{
      if(e.target.matches('button')){
        currentCategory = e.target.dataset.cat || 'ทั้งหมด';
        currentTag = '';
        filterArticles({q:searchInput.value, category:currentCategory, tag:currentTag});
      }
    });

    // tags (sidebar)
    Array.from(document.querySelectorAll('.tag-btn')).forEach(btn=>{
      btn.addEventListener('click', ()=>{
        currentTag = btn.dataset.tag;
        currentCategory = 'ทั้งหมด';
        searchInput.value = '';
        filterArticles({q:'', category:currentCategory, tag:currentTag});
      });
    });

    // sort
    sortSelect.addEventListener('change', ()=>{
      const val = sortSelect.value;
      const cards = Array.from(articlesEl.querySelectorAll('article.card'));
      cards.sort((a,b)=>{
        if(val==='alpha') return a.dataset.title.localeCompare(b.dataset.title,'th');
        if(val==='old') return new Date(a.querySelector('.meta').textContent.split('•')[1] || 0) - new Date(b.querySelector('.meta').textContent.split('•')[1] || 0);
        // default new
        return new Date(b.querySelector('.meta').textContent.split('•')[1] || 0) - new Date(a.querySelector('.meta').textContent.split('•')[1] || 0);
      }).forEach(n=>articlesEl.appendChild(n));
    });

    // modal open
    function openModal(title, body){
      document.getElementById('modal-title').textContent = title;
      document.getElementById('modal-body').innerHTML = body;
      const bd = document.getElementById('backdrop');
      bd.style.display='flex';
      bd.setAttribute('aria-hidden','false');
    }
    function closeModal(){
      const bd = document.getElementById('backdrop');
      bd.style.display='none';
      bd.setAttribute('aria-hidden','true');
    }
    document.getElementById('close').addEventListener('click', closeModal);
    document.getElementById('backdrop').addEventListener('click', e=>{ if(e.target.id==='backdrop') closeModal(); });

    // open article buttons
    document.querySelectorAll('.card .open').forEach((btn)=>{
      btn.addEventListener('click', (e)=>{
        const card = e.target.closest('article.card');
        const title = card.dataset.title;
        // ตัวอย่างเนื้อหา — ในของจริงให้ดึงจาก API หรือเก็บเป็น markdown แล้วแปลง
        const body = `<p style="margin-top:0;color:#111827">${card.querySelector('p').textContent}</p>
          <h4>เนื้อหาเพิ่มเติม</h4>
          <p>ตัวอย่างย่อ — ขยายด้วยเนื้อหาจริงได้ตามต้องการ</p>
          <hr>
          <p><strong>แท็ก:</strong> ${card.dataset.tags}</p>`;
        openModal(title, body);
      });
    });

    // 新 เพิ่มบทความ (ตัวอย่าง) — ในระบบจริงให้เรียก API
    document.getElementById('new-article').addEventListener('click', ()=>{
      const title = prompt('ชื่อบทความ:');
      if(!title) return;
      const el = document.createElement('article');
      el.className='card';
      el.dataset.title=title;
      el.dataset.category='ทั่วไป';
      el.dataset.tags='ทั่วไป';
      el.innerHTML = `<div class="meta">ทั่วไป • ${new Date().toLocaleDateString('th-TH')}</div><h3>${title}</h3><p>คำอธิบายสั้น ๆ</p><div class="tags"><span class="tag">ทั่วไป</span></div><div class="read"><button class="btn open">อ่าน</button></div>`;
      articlesEl.prepend(el);
      // attach open listener
      el.querySelector('.open').addEventListener('click', ()=>{
        openModal(title,'เนื้อหาตัวอย่าง');
      });
      updateCount();
    });

    // init
    filterArticles();
    updateCount();
  </script>
</body>
</html>
